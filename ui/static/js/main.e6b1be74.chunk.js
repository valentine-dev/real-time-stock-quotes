(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(52),s=a(10),l=a(11),r=a(13),o=a(12),c=a(14),u=a(0),i=a.n(u),m=a(18),d=a.n(m),h=a(48),g=a.n(h),p=function(e){function t(){return Object(s.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.data;return i.a.createElement(g.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},i.a.createElement(b,null),i.a.createElement(E,{rows:e}))}}]),t}(u.Component),b=function(){return i.a.createElement("thead",null,i.a.createElement("tr",{class:"text-right"},i.a.createElement("th",{class:"text-left"},"Local Time"),i.a.createElement("th",null,"SYM"),i.a.createElement("th",null,"$"),i.a.createElement("th",null,"CHG"),i.a.createElement("th",null,"%")))},E=function(e){var t=e.rows.map(function(e,t){var a=new Date(e.pricedata.lasttradedatetime).toLocaleString("en-CA"),n=e.pricedata.changepercent.toFixed(2)+"%",s=0===e.pricedata.change?"text-dark":e.pricedata.change>0?"text-success":"text-danger";return i.a.createElement("tr",{key:t,class:"text-right"},i.a.createElement("td",{class:"text-left"},a),i.a.createElement("td",null,e.symbolstring),i.a.createElement("td",null,e.pricedata.last),i.a.createElement("td",{class:s},e.pricedata.change),i.a.createElement("td",{class:s},n))});return i.a.createElement("tbody",null,t)},f=p,v=a(17),y=a(19),O=a.n(y),j=a(15),k=a.n(j),x=a(51),S=a.n(x),w=a(16),C=a.n(w),Q=a(23),T=a.n(Q),M=a(50),G=a.n(M),I=a(49),L=a.n(I),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).getQuote=function(){L.a.get("/quote?symbol="+a.state.symbol+"&token="+a.props.token).then(function(e){var t=e.data;console.log("Got last price ... "),console.log(t);var n=t.symbolstring+": "+t.equityinfo.longname+" on "+t.key.exLgName;a.setState(Object(v.a)({},a.state,{errorMessage:null,message:n})),a.props.handleSubmit(t)}).catch(function(e){if(console.log(e),e.response){console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers);var t=e.response.data.includes("Cannot GET /quote")?"The API backend is not available. Please have a check.":"HTTP "+e.response.status+": "+e.response.data;a.setState(Object(v.a)({},a.state,{errorMessage:t}))}else a.setState(Object(v.a)({},a.state,{errorMessage:"Oops, something went wrong!"}))})},a.handleInputChange=function(e){a.setState(Object(v.a)({},a.state,{symbol:e.target.value,errorMessage:null,message:null}))},a.state={symbol:null,errorMessage:null,message:null},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=!0;void 0!==this.state.symbol&&null!==this.state.symbol&&this.state.symbol.length>0&&(e=!1);var t=null!==this.state.errorMessage,a=null!==this.state.message;return i.a.createElement(O.a,null,i.a.createElement(C.a,{autoComplete:"off",onSubmit:function(e){return e.preventDefault()}},i.a.createElement(C.a.Group,{as:G.a,controlId:"formPlaintextPassword"},i.a.createElement(C.a.Label,{column:!0,xs:"2"},"Quote:"),i.a.createElement(T.a,{xs:"8"},i.a.createElement(C.a.Control,{type:"text",onChange:this.handleInputChange})),e?null:i.a.createElement(S.a,{xs:"2",onClick:this.getQuote},"GO"))),a?i.a.createElement(k.a,{variant:"info"},this.state.message):null,t?i.a.createElement(k.a,{variant:"warning"},this.state.errorMessage):null)}}]),t}(u.Component),F=a(24),H=a.n(F),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).getQuote=function(e){a.setState({latestQuotes:[e].concat(Object(n.a)(a.state.latestQuotes))})},a.state={latestQuotes:[]},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(O.a,null,i.a.createElement(H.a,{bg:"dark",variant:"dark",sticky:"top",expand:!0},i.a.createElement(H.a.Brand,{href:"#home"},"Valentine Wu - 2019")),i.a.createElement(k.a,{variant:"success"},i.a.createElement(k.a.Heading,null,"FREE Real-Time Stock Quotes for Companies Listed on TSX"),i.a.createElement("p",null,'For public companies on US exchanges, there would be 15 minutes delay (add ":US" after symbol, like FTNT:US). Have fun!')),i.a.createElement(P,{handleSubmit:this.getQuote,token:"f37b9b0e53740ea44c387c024025e30b84573d4893c2f051455ba2258e5604c4"}),this.state.latestQuotes.length>0?i.a.createElement(f,{data:this.state.latestQuotes}):null)}}]),t}(u.Component);d.a.render(i.a.createElement(q,null),document.getElementById("root"))},53:function(e,t,a){e.exports=a(104)}},[[53,1,2]]]);
//# sourceMappingURL=main.e6b1be74.chunk.js.map