{"version":3,"sources":["display.js","input.js","index.js"],"names":["Display","props","toggleShowDate","status","setState","showDate","toggleShowVolume","showVolume","toggleShowDiff","showDiff","state","Table","striped","bordered","hover","responsive","size","showStates","this","handleToggleShowDate","handleToggleShowVolume","handleToggleShowDiff","rows","data","handleSubmit","Component","DisplayHeader","className","style","width","Button","border","background","padding","disabled","role","aria-label","onClick","color","DisplayBody","handleRowSubmit","exchange","symbol","toLowerCase","map","row","index","dateStr","Date","regularMarketTime","raw","toLocaleDateString","month","day","timeStr","toLocaleTimeString","hour12","changePercent","regularMarketChangePercent","fmt","change","regularMarketChange","textColor","colonIndex","indexOf","price","regularMarketPrice","volume","regularMarketVolume","symColor","slice","symbolString","currency","toUpperCase","key","SymbolExchangeInput","getQuote","handleSymbolUpdate","event","target","value","trim","handleInputChange","handleExchangeUpdate","e","disableGet","undefined","length","Container","Alert","variant","Form","autoComplete","onSubmit","preventDefault","Group","as","Row","Col","xs","Control","onChange","placeholder","defaultValue","type","autoCorrect","autoCapitalize","title","require","config","App","removeMessage","updateQuotes","quote","filteredQuotes","latestQuotes","filter","yahooSymbol","axios","get","process","then","res","quotes","quoteResponse","result","message","longName","shortName","fullExchangeName","catch","err","response","includes","name","code","Navbar","bg","sticky","expand","Brand","href","Badge","Toggle","aria-controls","Collapse","id","Nav","Link","msg","errorMessage","Notes","useState","show","setShow","dismissible","onClose","Heading","DisplayMessage","Toast","delay","autohide","Body","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7ce30785.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport Table from 'react-bootstrap/Table';\r\n\r\nclass Display extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = { showDate: false, showVolume: false, showDiff: false}\r\n   }\r\n\r\n   toggleShowDate = (status) => {      \r\n      status ? this.setState({showDate: false}) : this.setState({showDate: true});\r\n   } \r\n\r\n   toggleShowVolume = (status) => {      \r\n      status ? this.setState({showVolume: false}) : this.setState({showVolume: true});\r\n   }\r\n\r\n   toggleShowDiff = (status) => {      \r\n      status ? this.setState({showDiff: false}) : this.setState({showDiff: true});\r\n   }\r\n\r\n   render() {\r\n      //const { data } = this.props;\r\n      //console.log(\"ok\");\r\n      //console.log(\"Show Date: \" + this.state.showDate);\r\n      return (\r\n         <Table striped bordered hover responsive=\"sm\" size=\"sm\">\r\n            <DisplayHeader \r\n               showStates={this.state} \r\n               handleToggleShowDate={this.toggleShowDate} \r\n               handleToggleShowVolume={this.toggleShowVolume}\r\n               handleToggleShowDiff={this.toggleShowDiff}\r\n            />\r\n            <DisplayBody \r\n               rows={this.props.data} \r\n               showStates={this.state}\r\n               handleSubmit={this.props.handleSubmit}\r\n            />\r\n         </Table>\r\n      )\r\n   }\r\n}\r\n\r\nconst DisplayHeader = props => {\r\n   //console.log(props);\r\n   return (\r\n      <thead>\r\n         <tr className=\"text-right\"> \r\n            <th className=\"text-left\" style={{width: '25%'}}>\r\n            <Button style={{border: 'none', background: 'none', padding: 0}} disabled><span role=\"img\" aria-label=\"Symbol\">&#x1F4C8;</span></Button>\r\n            </th>\r\n            <th style={{width: '25%'}}>\r\n               {props.showStates.showDate ? <Button className=\"shadow-none\" style={{border: 'none', background: 'none', padding: 0}}  onClick={() => props.handleToggleShowDate(props.showStates.showDate)}><span role=\"img\" aria-label=\"Date\">&#x1F4C6;</span></Button> : <Button className=\"shadow-none\"  style={{border: 'none', background: 'none', padding: 0}} onClick={() => props.handleToggleShowDate(props.showStates.showDate)}><span role=\"img\" aria-label=\"Time\">&#x23F2;</span></Button> }\r\n            </th>\r\n            <th style={{width: '25%'}}>\r\n               {props.showStates.showVolume ? <Button className=\"shadow-none\" style={{border: 'none', background: 'none', padding: 0}} onClick={() => props.handleToggleShowVolume(props.showStates.showVolume)}><span role=\"img\" aria-label=\"Volume\">&#x1F4CA;</span></Button> : <Button className=\"shadow-none\" style={{border: 'none', background: 'none', padding: 0}} onClick={() => props.handleToggleShowVolume(props.showStates.showVolume)}><span role=\"img\" aria-label=\"Price\">&#x1F4B0;</span></Button> }\r\n            </th>\r\n            <th style={{width: '25%'}}>{props.showStates.showDiff ? <Button className=\"shadow-none\" style={{border: 'none', background: 'none', color: 'black', padding: 0}} onClick={() => props.handleToggleShowDiff(props.showStates.showDiff)}><span>&#x00B1;</span></Button> : <Button className=\"shadow-none\" style={{border: 'none', background: 'none', color: 'black', padding: 0}} onClick={() => props.handleToggleShowDiff(props.showStates.showDiff)}><span>%</span></Button>}</th>\r\n         </tr>\r\n      </thead>\r\n   )\r\n};\r\n\r\nclass DisplayBody extends Component {\r\n\r\n   handleRowSubmit = (exchange, symbol) => {\r\n      this.props.handleSubmit(symbol.toLowerCase(), exchange.toLowerCase());\r\n   }\r\n\r\n   render() {\r\n      const rows = this.props.rows.map((row, index) => {\r\n         const dateOptions = { month: 'numeric', day: 'numeric' };\r\n         const dateStr = new Date(row.regularMarketTime.raw*1000).toLocaleDateString('en-CA', dateOptions);\r\n         const timeOptions = { hour12: false };\r\n         const timeStr = new Date(row.regularMarketTime.raw*1000).toLocaleTimeString('en-CA', timeOptions);\r\n         const changePercent = row.regularMarketChangePercent.fmt;\r\n         const change = row.regularMarketChange.fmt;\r\n         const textColor = row.regularMarketChange.raw === 0 ? \"text-dark\"\r\n            : (row.regularMarketChange.raw > 0 ? \"text-success\" : \"text-danger\");\r\n         const colonIndex = row.symbol.indexOf('.');\r\n         const price = row.regularMarketPrice.fmt;\r\n         const volume = row.regularMarketVolume.fmt;\r\n   \r\n         const symColor = colonIndex > -1 ? \r\n            (row.symbol.slice(colonIndex+1).toLowerCase() === 'to' ? \"text-primary\" : \r\n              (row.symbol.slice(colonIndex+1).toLowerCase() === 'cn' ? \"text-danger\" : \r\n                 (row.symbol.slice(colonIndex+1).toLowerCase() === 'v' ? \"text-dark\" : \r\n                   \"text-warning\" \r\n                 )\r\n              )           \r\n            ) : \"text-success\";\r\n         \r\n         const exchange = colonIndex > -1 ? \r\n            (row.symbol.slice(colonIndex+1).toLowerCase() === 'to' ? \"tsx\" : \r\n              (row.symbol.slice(colonIndex+1).toLowerCase() === 'cn' ? \"cse\" : \r\n                 (row.symbol.slice(colonIndex+1).toLowerCase() === 'v' ? \"tsxv\" : \r\n                   \"neo\" \r\n                 )\r\n              )           \r\n            ) : \"us\";\r\n   \r\n   \r\n         const symbolString = colonIndex > -1 ? row.symbol.slice(0,colonIndex) : row.symbol;\r\n         const currency = row.currency.toUpperCase() === 'CAD' ? \"C$\" : \"$\" ;  \r\n   \r\n         return (\r\n   \r\n            <tr key={index} className=\"text-right\" onClick={() => this.handleRowSubmit(exchange, symbolString)}>\r\n               <td className={symColor + \" text-left font-weight-bold\"}>{symbolString}</td>\r\n               <td>\r\n               {this.props.showStates.showDate ? <span>{dateStr}</span> : <span>{timeStr}</span>}\r\n               </td>\r\n               <td>\r\n                  {this.props.showStates.showVolume ? <span>{volume}</span>: <span>{currency}{price}</span> }\r\n               </td>\r\n               <td className={textColor}>\r\n                  {this.props.showStates.showDiff ? <span>{change}</span> : <span>{changePercent}</span> }\r\n               </td>\r\n            </tr>\r\n         )\r\n      });\r\n   \r\n      return <tbody>{rows}</tbody>;\r\n   }\r\n}\r\n\r\nexport default Display;\r\n","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\n\r\nclass SymbolExchangeInput extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = { exchange: 'TSX', symbol: null }\r\n   }\r\n\r\n   getQuote = () => {            \r\n      this.props.handleSubmit(this.state.symbol.toLowerCase(), this.state.exchange.toLowerCase());      \r\n   }\r\n\r\n   handleSymbolUpdate = (event) => {\r\n      this.setState({ ...this.state, \"symbol\": event.target.value.trim() });\r\n      this.props.handleInputChange();\r\n   }\r\n\r\n   handleExchangeUpdate = e => {\r\n      this.setState({ ...this.state, \"exchange\": e.target.value.trim() });\r\n      this.props.handleInputChange();\r\n   }\r\n\r\n   render() {\r\n\r\n      let disableGet = true;\r\n      if (this.state.symbol !== undefined && this.state.symbol !== null && this.state.symbol.length > 0) {\r\n         disableGet = false;\r\n      }\r\n      return (\r\n         <Container>\r\n            <Alert variant='info'>\r\n            <Form autoComplete=\"on\" onSubmit={e => e.preventDefault()} >\r\n               <Form.Group as={Row} >\r\n                  <Col xs=\"4\">\r\n                     <Form.Control as=\"select\" onChange={this.handleExchangeUpdate} placeholder=\"Exchange\" defaultValue=\"TSX\">\r\n                        <option value=\"US\" className='text-success font-weight-bold'>US</option>\r\n                        <option value=\"TSX\" className='text-primary font-weight-bold'>TSX</option>\r\n                        <option value=\"TSXV\" className='text-dark font-weight-bold'>TSV</option>\r\n                        <option value=\"CSE\" className='text-danger font-weight-bold'>CSE</option>\r\n                        <option value=\"NEO\" className='text-warning font-weight-bold'>NEO</option>\r\n                     </Form.Control>\r\n                  </Col>\r\n                  <Col xs=\"5\">\r\n                     <Form.Control type=\"text\" autoCorrect=\"off\" autoCapitalize=\"off\" onChange={this.handleSymbolUpdate} placeholder=\"Symbol\" />\r\n                  </Col>\r\n                  {disableGet ? <Col xs=\"2\"><Button title=\"enter symbol to enable clicking\" className=\"shadow-none\" style={{border: 'none', background: 'none'}} onClick={this.getQuote} disabled><span role=\"img\" aria-label=\"eyes\">&#x1f440;</span></Button></Col> \r\n                     : <Col xs=\"2\"><Button title=\"click to get quote\" className=\"shadow-none\" style={{border: 'none', background: 'none'}} onClick={this.getQuote}><span role=\"img\" aria-label=\"eyes\">&#x1f440;</span></Button></Col>\r\n                  }\r\n               </Form.Group>\r\n            </Form>\r\n            </Alert>            \r\n         </Container>\r\n      )\r\n   }\r\n}\r\n\r\n\r\n\r\nexport default SymbolExchangeInput;\r\n","import React, { useState, Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Display from './display';\r\nimport SymbolExchangeInput from './input';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport axios from 'axios';\r\nimport Toast from 'react-bootstrap/Toast';\r\n\r\nrequire('dotenv').config();\r\n\r\nclass App extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = { latestQuotes: [], \"errorMessage\": null, 'message': null }       \r\n   }\r\n\r\n   removeMessage = () => {\r\n      this.setState({ ...this.state, \"errorMessage\": null, 'message': null });\r\n   }\r\n\r\n   updateQuotes = (quote) => {\r\n      const filteredQuotes = this.state.latestQuotes.filter(row => row.symbol !== quote.symbol);\r\n      this.setState({ latestQuotes: [quote, ...filteredQuotes] });\r\n   }\r\n\r\n   getQuote = (symbol, exchange) => {\r\n      //console.log(\"index.js - symbol: \" + symbol);\r\n      //console.log(\"index.js - exchange: \" + exchange);\r\n      const yahooSymbol = exchange === \"tsx\" ? symbol + \".to\"\r\n      : (exchange === \"cse\" ? symbol + \".cn\" \r\n      : (exchange === \"tsxv\"? symbol + \".v\" \r\n      : (exchange === \"neo\"? symbol + \".ne\" : symbol)));\r\n            \r\n      axios.get(process.env.REACT_APP_CORS_PROXY + '/https://query1.finance.yahoo.com/v7/finance/quote?formatted=true&symbols=' + yahooSymbol)\r\n         .then(res => {\r\n            //console.log(res);\r\n            const quotes = res.data.quoteResponse.result;\r\n            //console.log(quotes);\r\n            if (quotes && quotes.length >  0) {\r\n               //console.log(\"Got last price ... \");\r\n               const message = quotes[0].longName ?  quotes[0].longName + ' on ' + quotes[0].fullExchangeName\r\n                  : (quotes[0].shortName ? quotes[0].longName + ' on ' + quotes[0].fullExchangeName : null);\r\n               //console.log(message);\r\n               if (message) {\r\n                  this.setState({ ...this.state, \"errorMessage\": null, 'message': message });\r\n                  this.updateQuotes(quotes[0]);\r\n               } else {\r\n                  this.setState({ ...this.state, \"errorMessage\": \"Sorry, no data found.\" });\r\n               }               \r\n            } else {\r\n               this.setState({ ...this.state, \"errorMessage\": \"Sorry, no data found.\" });\r\n            }\r\n         })\r\n         .catch(err => {\r\n            //console.log(err);\r\n            let message;\r\n            if (err.response && err.response.data) {\r\n               // The request was made and the server responded with a status code\r\n               // that falls out of the range of 2xx\r\n               //console.log(err.response.data);\r\n               //console.log(err.response.status);\r\n               //console.log(err.response.headers);\r\n               if (typeof err.response.data === 'string') {\r\n                  message = err.response.data.includes('Cannot GET /quote') ? 'The API backend is not available. Please have a check.' : 'HTTP ' + err.response.status + ': ' + err.response.data;\r\n               } else {\r\n                  message = err.response.data.name + \": \" + err.response.data.message;\r\n               } \r\n               this.setState({ ...this.state, \"errorMessage\": message });\r\n            } else {\r\n               message = err.name + ' (' + err.code + '): ' + err.message;\r\n               this.setState({ ...this.state, \"errorMessage\": message });\r\n            }\r\n         });   \r\n   }\r\n\r\n   render() {\r\n      //console.log(\"How many quote? \" + this.state.latestQuotes.length);\r\n      return (\r\n         <Container>\r\n            <Navbar bg=\"dark\" variant=\"dark\" sticky=\"top\" expand=\"sm\">\r\n               <Navbar.Brand>\r\n                  <span role=\"img\" aria-label=\"Stock\">&#x1F4C8;</span> <a href=\"https://enjoyit.ca\" title=\"go to enjoyit.ca\">enjoyit.ca</a> <Badge variant=\"light\">v{process.env.REACT_APP_VERSION}</Badge>\r\n               </Navbar.Brand>\r\n               <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n               <Navbar.Collapse id=\"responsive-navbar-nav\" className=\"justify-content-end\">\r\n                  <Nav>\r\n                  <Nav.Link href=\"mailto:feedback@enjoyit.ca\" title=\"provide feedback to feedback@enjoyit.ca\">Feedback</Nav.Link>\r\n                  <Nav.Link href=\"mailto:donations@enjoyit.ca\" title=\"eTransfer less than $10 to donations@enjoyit.ca\">Donations</Nav.Link>\r\n                  </Nav>   \r\n               </Navbar.Collapse>\r\n            </Navbar>            \r\n            <Notes />\r\n            <SymbolExchangeInput handleSubmit={this.getQuote} handleInputChange={this.removeMessage} />\r\n            {this.state.message ? <div className='pb-3'><DisplayMessage msg={this.state.message}/></div>: null}\r\n            {this.state.errorMessage ? <Alert variant='warning'>{this.state.errorMessage}</Alert> : null}\r\n            {this.state.latestQuotes.length > 0 ? <Display data={this.state.latestQuotes} handleSubmit={this.getQuote} /> : null}\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nconst Notes = () => {\r\n   const [show, setShow] = useState(true);\r\n\r\n   if (show) {\r\n      return (\r\n         <Alert variant=\"primary\" dismissible onClose={() => setShow(false)}>\r\n            <Alert.Heading>FREE Real-Time Quotes for North American Stocks</Alert.Heading>\r\n            <p>For non-common stocks, Yahoo! Finance convention is used.</p>            \r\n         </Alert>         \r\n      )\r\n   }\r\n   return <></>;\r\n};\r\n\r\nconst DisplayMessage = props => {\r\n   const msg = props.msg;\r\n   const [show, setShow] = useState(true);\r\n\r\n   \r\n   return (\r\n      <Toast delay={3000} autohide show={show} onClose={() => setShow(false)}><Toast.Body>{msg}</Toast.Body></Toast>\r\n   )\r\n   \r\n};\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}