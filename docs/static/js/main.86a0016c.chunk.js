(this["webpackJsonpreal-time-stock-quotes-ui"]=this["webpackJsonpreal-time-stock-quotes-ui"]||[]).push([[0],{63:function(e,t,a){e.exports=a(97)},97:function(e,t,a){"use strict";a.r(t);var n=a(44),o=a(45),r=a(5),s=a(14),l=a(15),c=a(18),i=a(16),u=a(0),m=a.n(u),h=a(19),g=a.n(h),d=a(42),b=a(56),p=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).toggleShowDate=function(e){e?n.setState({showDate:!1}):n.setState({showDate:!0})},n.toggleShowVolume=function(e){e?n.setState({showVolume:!1}):n.setState({showVolume:!0})},n.toggleShowDiff=function(e){e?n.setState({showDiff:!1}):n.setState({showDiff:!0})},n.state={showDate:!1,showVolume:!1,showDiff:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return m.a.createElement(b.a,{striped:!0,bordered:!0,hover:!0,responsive:"sm",size:"sm"},m.a.createElement(f,{showStates:this.state,handleToggleShowDate:this.toggleShowDate,handleToggleShowVolume:this.toggleShowVolume,handleToggleShowDiff:this.toggleShowDiff}),m.a.createElement(w,{rows:this.props.data,showStates:this.state,handleSubmit:this.props.handleSubmit}))}}]),a}(u.Component),f=function(e){return m.a.createElement("thead",null,m.a.createElement("tr",{className:"text-right"},m.a.createElement("th",{className:"text-left",style:{width:"25%"}},m.a.createElement(d.a,{style:{border:"none",background:"none",padding:0},disabled:!0},m.a.createElement("span",{role:"img","aria-label":"Symbol"},"\ud83d\udcc8"))),m.a.createElement("th",{style:{width:"25%"}},e.showStates.showDate?m.a.createElement(d.a,{className:"shadow-none",style:{border:"none",background:"none",padding:0},onClick:function(){return e.handleToggleShowDate(e.showStates.showDate)}},m.a.createElement("span",{role:"img","aria-label":"Date"},"\ud83d\udcc6")):m.a.createElement(d.a,{className:"shadow-none",style:{border:"none",background:"none",padding:0},onClick:function(){return e.handleToggleShowDate(e.showStates.showDate)}},m.a.createElement("span",{role:"img","aria-label":"Time"},"\u23f2"))),m.a.createElement("th",{style:{width:"25%"}},e.showStates.showVolume?m.a.createElement(d.a,{className:"shadow-none",style:{border:"none",background:"none",padding:0},onClick:function(){return e.handleToggleShowVolume(e.showStates.showVolume)}},m.a.createElement("span",{role:"img","aria-label":"Volume"},"\ud83d\udcca")):m.a.createElement(d.a,{className:"shadow-none",style:{border:"none",background:"none",padding:0},onClick:function(){return e.handleToggleShowVolume(e.showStates.showVolume)}},m.a.createElement("span",{role:"img","aria-label":"Price"},"\ud83d\udcb0"))),m.a.createElement("th",{style:{width:"25%"}},e.showStates.showDiff?m.a.createElement(d.a,{className:"shadow-none",style:{border:"none",background:"none",color:"black",padding:0},onClick:function(){return e.handleToggleShowDiff(e.showStates.showDiff)}},m.a.createElement("span",null,"\xb1")):m.a.createElement(d.a,{className:"shadow-none",style:{border:"none",background:"none",color:"black",padding:0},onClick:function(){return e.handleToggleShowDiff(e.showStates.showDiff)}},m.a.createElement("span",null,"%")))))},w=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleRowSubmit=function(t,a){e.props.handleSubmit(a.toLowerCase(),t.toLowerCase())},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.rows.map((function(t,a){var n=new Date(1e3*t.regularMarketTime.raw).toLocaleDateString("en-CA",{month:"numeric",day:"numeric"}),o=new Date(1e3*t.regularMarketTime.raw).toLocaleTimeString("en-CA",{hour12:!1}),r=t.regularMarketChangePercent.fmt,s=t.regularMarketChange.fmt,l=0===t.regularMarketChange.raw?"text-dark":t.regularMarketChange.raw>0?"text-success":"text-danger",c=t.symbol.indexOf("."),i=t.regularMarketPrice.fmt,u=t.regularMarketVolume.fmt,h=c>-1?"to"===t.symbol.slice(c+1).toLowerCase()?"text-primary":"cn"===t.symbol.slice(c+1).toLowerCase()?"text-danger":"v"===t.symbol.slice(c+1).toLowerCase()?"text-dark":"text-warning":"text-success",g=c>-1?"to"===t.symbol.slice(c+1).toLowerCase()?"tsx":"cn"===t.symbol.slice(c+1).toLowerCase()?"cse":"v"===t.symbol.slice(c+1).toLowerCase()?"tsxv":"neo":"us",d=c>-1?t.symbol.slice(0,c):t.symbol,b="CAD"===t.currency.toUpperCase()?"C$":"$";return m.a.createElement("tr",{key:a,className:"text-right",onClick:function(){return e.handleRowSubmit(g,d)}},m.a.createElement("td",{className:h+" text-left font-weight-bold"},d),m.a.createElement("td",null,e.props.showStates.showDate?m.a.createElement("span",null,n):m.a.createElement("span",null,o)),m.a.createElement("td",null,e.props.showStates.showVolume?m.a.createElement("span",null,u):m.a.createElement("span",null,b,i)),m.a.createElement("td",{className:l},e.props.showStates.showDiff?m.a.createElement("span",null,s):m.a.createElement("span",null,r)))}));return m.a.createElement("tbody",null,t)}}]),a}(u.Component),E=p,S=a(31),y=a(26),k=a(20),v=a(57),j=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getQuote=function(){n.props.handleSubmit(n.state.symbol.toLowerCase(),n.state.exchange.toLowerCase())},n.handleSymbolUpdate=function(e){n.setState(Object(r.a)(Object(r.a)({},n.state),{},{symbol:e.target.value.trim()})),n.props.handleInputChange()},n.handleExchangeUpdate=function(e){n.setState(Object(r.a)(Object(r.a)({},n.state),{},{exchange:e.target.value.trim()})),n.props.handleInputChange()},n.state={exchange:"TSX",symbol:null},n}return Object(l.a)(a,[{key:"render",value:function(){var e=!0;return void 0!==this.state.symbol&&null!==this.state.symbol&&this.state.symbol.length>0&&(e=!1),m.a.createElement(S.a,{className:"mt-3"},m.a.createElement(y.a,{autoComplete:"on",onSubmit:function(e){return e.preventDefault()}},m.a.createElement(y.a.Group,{as:v.a},m.a.createElement(k.a,{xs:"4"},m.a.createElement(y.a.Control,{as:"select",onChange:this.handleExchangeUpdate,placeholder:"Exchange",defaultValue:"TSX",size:"sm"},m.a.createElement("option",{value:"US",className:"text-success font-weight-bold"},"US"),m.a.createElement("option",{value:"TSX",className:"text-primary font-weight-bold"},"TSX"),m.a.createElement("option",{value:"TSXV",className:"text-dark font-weight-bold"},"TSXV"),m.a.createElement("option",{value:"CSE",className:"text-danger font-weight-bold"},"CSE"),m.a.createElement("option",{value:"NEO",className:"text-warning font-weight-bold"},"NEO"))),m.a.createElement(k.a,{xs:"5"},m.a.createElement(y.a.Control,{type:"text",autoCorrect:"off",autoCapitalize:"off",onChange:this.handleSymbolUpdate,placeholder:"symbol",size:"sm"})),e?m.a.createElement(k.a,{xs:"2"},m.a.createElement(d.a,{title:"enter symbol to enable clicking",className:"shadow-none",style:{border:"none",background:"none"},onClick:this.getQuote,disabled:!0},m.a.createElement("span",{role:"img","aria-label":"eyes"},"\ud83d\udc40"))):m.a.createElement(k.a,{xs:"2"},m.a.createElement(d.a,{title:"click to get quote",className:"shadow-none",style:{border:"none",background:"none"},onClick:this.getQuote},m.a.createElement("span",{role:"img","aria-label":"eyes"},"\ud83d\udc40"))))))}}]),a}(u.Component),C=a(37),O=a(27),x=a(36),D=a(61),M=a(58),N=a.n(M),T=a(43);a(94).config();var V=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).removeMessage=function(){n.setState(Object(r.a)(Object(r.a)({},n.state),{},{errorMessage:null,message:null}))},n.updateQuotes=function(e){for(var t=Object(o.a)(n.state.latestQuotes),a=n.state.latestQuotes.length,s=!1,l=0;l<a;l++){var c=t[l];if(c.symbol===e.symbol){s=!0,c.regularMarketVolume=Object(r.a)({},e.regularMarketVolume),c.regularMarketChangePercent=Object(r.a)({},e.regularMarketChangePercent),c.regularMarketChange=Object(r.a)({},e.regularMarketChange),c.regularMarketPrice=Object(r.a)({},e.regularMarketPrice),c.regularMarketTime=Object(r.a)({},e.regularMarketTime);break}}s||(t=[e].concat(Object(o.a)(t))),n.setState({latestQuotes:t})},n.getQuote=function(e,t){var a="tsx"===t?e+".to":"cse"===t?e+".cn":"tsxv"===t?e+".v":"neo"===t?e+".ne":e;N.a.get("https://enjoyit-cors-anywhere.herokuapp.com/https://query1.finance.yahoo.com/v7/finance/quote?formatted=true&symbols="+a).then((function(e){var t=e.data.quoteResponse.result;if(t&&t.length>0){var a=t[0].longName||t[0].shortName?t[0].longName+" on "+t[0].fullExchangeName:null;a?(n.setState(Object(r.a)(Object(r.a)({},n.state),{},{errorMessage:null,message:a})),n.updateQuotes(t[0])):n.setState(Object(r.a)(Object(r.a)({},n.state),{},{errorMessage:"Sorry, no data found."}))}else n.setState(Object(r.a)(Object(r.a)({},n.state),{},{errorMessage:"Sorry, no data found."}))})).catch((function(e){var t;e.response&&e.response.data?(t="string"===typeof e.response.data?e.response.data.includes("Cannot GET /quote")?"The API backend is not available. Please have a check.":"HTTP "+e.response.status+": "+e.response.data:e.response.data.name+": "+e.response.data.message,n.setState(Object(r.a)(Object(r.a)({},n.state),{},{errorMessage:t}))):(t=e.name+" ("+e.code+"): "+e.message,n.setState(Object(r.a)(Object(r.a)({},n.state),{},{errorMessage:t})))}))},n.state={latestQuotes:[],errorMessage:null,message:null},n}return Object(l.a)(a,[{key:"render",value:function(){return m.a.createElement(S.a,null,m.a.createElement(O.a,{bg:"dark",variant:"dark",sticky:"top",expand:"sm"},m.a.createElement(O.a.Brand,null,m.a.createElement("span",{role:"img","aria-label":"Stock"},"\ud83d\udcc8")," ",m.a.createElement("a",{href:"https://enjoyit.ca",title:"go to enjoyit.ca"},"enjoyit.ca")," ",m.a.createElement(D.a,{variant:"light"},"v","0.3.6")),m.a.createElement(O.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),m.a.createElement(O.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end"},m.a.createElement(x.a,null,m.a.createElement(x.a.Link,{href:"mailto:feedback@enjoyit.ca",title:"provide feedback to feedback@enjoyit.ca"},"Feedback"),m.a.createElement(x.a.Link,{href:"mailto:donations@enjoyit.ca",title:"eTransfer less than $10 to donations@enjoyit.ca"},"Donations")))),m.a.createElement(Q,null),m.a.createElement(j,{handleSubmit:this.getQuote,handleInputChange:this.removeMessage}),this.state.message?m.a.createElement("div",{className:"pb-3"},m.a.createElement(L,{msg:this.state.message})):null,this.state.errorMessage?m.a.createElement(C.a,{variant:"warning"},this.state.errorMessage):null,this.state.latestQuotes.length>0?m.a.createElement(E,{data:this.state.latestQuotes,handleSubmit:this.getQuote}):null)}}]),a}(u.Component),Q=function(){var e=Object(u.useState)(!0),t=Object(n.a)(e,2),a=t[0],o=t[1];return a?m.a.createElement(C.a,{variant:"primary",dismissible:!0,onClose:function(){return o(!1)}},m.a.createElement(C.a.Heading,null,"FREE Real-Time Quotes for North American Stocks"),m.a.createElement("p",null,"For non-common stocks, Yahoo! Finance convention is used.")):m.a.createElement(m.a.Fragment,null)},L=function(e){var t=e.msg,a=Object(u.useState)(!0),o=Object(n.a)(a,2),r=o[0],s=o[1];return m.a.createElement(T.a,{delay:3e3,autohide:!0,show:r,onClose:function(){return s(!1)}},m.a.createElement(T.a.Body,null,t))};g.a.render(m.a.createElement(V,null),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.86a0016c.chunk.js.map